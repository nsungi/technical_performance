
{% extends 'base.html' %}

{% block content %}
<div class="container-fluid px-5 py-4"> <!-- Added horizontal padding and vertical padding -->
    <h2 class="text-center mb-4">Contract List</h2>
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Service</th>
                    <th>Name</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                {% for contract in contracts %}
                <tr data-href="{% url 'view_contract' contract.pk %}" style="cursor: pointer;">
                    <td>{{ contract.title }}</td>
                    <td>{{ contract.description }}</td>
                    <td>{{ contract.service.title }}</td>
                    <td>{{ contract.user.username }}</td>
                    <td>{{ contract.date }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- JavaScript for clickable rows -->
<script>
    // Add click event listener to table rows
    document.addEventListener("DOMContentLoaded", function() {
        var tableRows = document.querySelectorAll("table tbody tr");
        tableRows.forEach(function(row) {
            row.addEventListener("click", function() {
                var url = this.getAttribute("data-href");
                if (url) {
                    window.location.href = url;
                }
            });
        });
    });
</script>
{% endblock %}
