{% extends 'base.html' %}
{% block title %}Contract List{% endblock %}

{% block content %}
<div class="container mt-4 mb-4">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Service</th>
                <th>name</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            {% for contract in contracts %}
            <tr data-href="{% url 'view_contract' contract.pk %}">
                <td>{{ contract.title }}</td>
                <td>{{ contract.description }}</td>
                <td>{{ contract.service.title }}</td>
                <td>{{ contract.user.username }}</td>
                <td>{{ contract.date }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- JavaScript for clickable rows -->
<script>
    // Add click event listener to table rows
    document.addEventListener("DOMContentLoaded", function() {
        var tableRows = document.querySelectorAll("table tbody tr");
        tableRows.forEach(function(row) {
            row.addEventListener("click", function() {
                var url = this.getAttribute("data-href");
                if (url) {
                    window.location.href = url;
                }
            });
        });
    });
</script>
{% endblock %}
